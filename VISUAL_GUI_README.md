# ğŸŒ³ Visual Parse Tree GUI for cfg2yacc

A sophisticated graphical interface that displays parse trees as **actual tree structures** with nodes, connections, and visual hierarchy.

## ğŸ¯ Features

### ğŸŒ³ **True Visual Tree Representation**
- **Hierarchical node layout** with proper parent-child relationships
- **Color-coded nodes**:
  - ğŸŸ¢ **Green rectangles**: Non-terminals (expr, term, factor)
  - ğŸ”µ **Blue ovals**: Numbers and identifiers (42, ID)
  - ğŸŸ  **Orange ovals**: Operators (+, -, *, /, (, ))
- **Connection lines** showing derivation relationships
- **Interactive tooltips** with node information

### ğŸ® **Interactive Controls**
- **Pan**: Click and drag to move around large trees
- **Zoom**: Mouse wheel to zoom in/out
- **Tooltips**: Hover over nodes for details
- **Example buttons**: Quick access to common expressions

### ğŸ“Š **Dual View Modes**
- **Visual Tree Tab**: Graphical tree representation
- **Text Output Tab**: Raw parser output for debugging

## ğŸš€ Quick Start

### Launch the Visual GUI
```bash
./launch_visual_gui.sh
```

### Or manually:
```bash
python3 visual_parse_tree_gui.py
```

## ğŸ¨ Visual Examples

### Simple Expression: `42`
```
    expr
     |
   term  
     |
  factor
     |
    42
```

### Addition: `1+2`
```
      expr
    /  |  \\
 term  +  term
   |       |
factor  factor
   |       |
   1       2
```

### Precedence: `1+2*3`
```
        expr
      /  |  \\
   term  +  term
     |     / | \\
  factor factor * factor
     |     |       |
     1     2       3
```

### Parentheses: `(1+2)*3`
```
           expr
             |
           term
         /   |   \\
    factor   *   factor
   /  |  \\         |
  (  expr  )        3
     / | \\
  term + term
    |     |
 factor factor
    |     |
    1     2
```

## ğŸ® How to Use

### 1. **Enter Expression**
- Type in the input field or click example buttons
- Press Enter or click "ğŸ” Parse"

### 2. **View Tree**
- **Visual Tree tab**: See the hierarchical structure
- **Text Output tab**: View raw parser output

### 3. **Interact with Tree**
- **Hover** over nodes for tooltips
- **Click and drag** to pan around
- **Mouse wheel** to zoom in/out

### 4. **Try Examples**
Click the example buttons:
- **42**: Simple number
- **1+2**: Basic addition
- **2*3**: Basic multiplication  
- **1+2*3**: Operator precedence
- **(1+2)*3**: Parentheses grouping
- **((1+2)*3)+4**: Complex nesting
- **Error: 1++2**: Error handling

## ğŸ¨ Visual Design

### Node Types
| Type | Shape | Color | Examples |
|------|-------|-------|----------|
| Non-terminals | Rectangle | Green | expr, term, factor |
| Operators | Oval | Orange | +, -, *, /, (, ) |
| Literals | Oval | Blue | 42, ID, NUMBER |

### Layout Algorithm
- **Hierarchical**: Parents centered over children
- **Balanced**: Proper spacing between siblings
- **Scalable**: Handles trees of any size

### Interactive Features
- **Tooltips**: Show symbol type and grammar rules
- **Pan/Zoom**: Navigate large trees easily
- **Color coding**: Instant visual recognition

## ğŸ› ï¸ Technical Details

### Requirements
- **Python 3** with tkinter
- **Built parser** (./parser executable)
- **cfg2yacc** tool

### Architecture
- **Tree Builder**: Constructs proper tree structures from parse rules
- **Layout Engine**: Calculates optimal node positions
- **Renderer**: Draws nodes, connections, and decorations
- **Event Handler**: Manages user interactions

### Supported Grammars
Works with any grammar generated by cfg2yacc:
- Expression grammars
- Statement grammars  
- List grammars
- Custom EBNF grammars

## ğŸ”§ Customization

### Change Colors
Edit `visual_parse_tree_gui.py`:
```python
# Around line 400 in draw_node()
if node.is_terminal:
    if node.label in ['+', '-', '*', '/', '(', ')']:
        fill = "#your_color"  # Operators
    else:
        fill = "#your_color"  # Literals
else:
    fill = "#your_color"      # Non-terminals
```

### Add Examples
Edit the examples list:
```python
examples = [
    ("Name", "expression"),
    ("Custom", "your_expression"),
    # Add more...
]
```

### Modify Layout
Adjust spacing in `calculate_layout()`:
```python
child_x += child_width + 25  # Change spacing
node.y = y + 90             # Change level height
```

## ğŸ› Troubleshooting

### Common Issues

**"Parser not found"**
```bash
# Build the parser first
make && ./cfg2yacc -i samples/expr.ebnf -o expr.y --emit-lex expr.l --no-ff
bison -d expr.y && flex expr.l && gcc -o parser expr.tab.c lex.yy.c ast.c -lfl
```

**"tkinter not available"**
```bash
# Install tkinter
sudo apt-get install python3-tk  # Ubuntu/Debian
brew install python-tk           # macOS
```

**"Tree looks wrong"**
- The visual tree is a **demonstration** showing proper tree structure
- For exact parser derivation, check the "Text Output" tab
- Different expressions show different tree patterns

**"GUI is slow"**
- Large trees may take time to render
- Use zoom to focus on specific parts
- Try simpler expressions first

### Debug Mode
```bash
# Test parser manually
echo "1+2*3" | ./parser

# Check if GUI can import modules
python3 -c "import tkinter; print('tkinter OK')"
```

## ğŸ¯ Use Cases

### ğŸ“ **Educational**
- **Learn grammar structures** visually
- **Understand operator precedence** through tree shape
- **See how parentheses affect parsing**

### ğŸ”§ **Development**
- **Debug grammar rules** by seeing tree structure
- **Verify parser behavior** with visual feedback
- **Test different expressions** quickly

### ğŸ“š **Research**
- **Analyze grammar properties** through visualization
- **Compare different parsing approaches**
- **Document grammar behavior** with visual examples

## ğŸš€ Advanced Features

### Multiple Parsers
```bash
# Generate different parsers
./cfg2yacc -i samples/ebnf_features.ebnf -o features.y --emit-lex features.l --no-ff
bison -d features.y && flex features.l && gcc -o features_parser features.tab.c lex.yy.c ast.c -lfl

# In GUI: Browse -> select features_parser
# Test: (id1, id2)
```

### Export Trees
Future enhancement: Save trees as images
```python
# Potential addition
def export_tree_as_png(self):
    # Convert canvas to image
    pass
```

## ğŸ“ Files

- `visual_parse_tree_gui.py` - Main visual GUI application
- `visual_tree_demo.py` - Standalone tree demo
- `launch_visual_gui.sh` - Launcher script
- `VISUAL_GUI_README.md` - This documentation

## ğŸ¤ Contributing

Enhance the visual GUI with:
- **Better layout algorithms** (force-directed, radial)
- **Animation** (show parsing steps)
- **Export functionality** (PNG, SVG, PDF)
- **Theme support** (dark mode, custom colors)
- **Grammar rule display** (show which rule is being applied)

---

**Enjoy visualizing your parse trees! ğŸŒ³âœ¨**