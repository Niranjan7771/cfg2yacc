// Basic calculator language

%%LEX
NUMBER          [0-9]+
WHITESPACE      [ \t\n]+
LINE_COMMENT    \/\/.*

%%YACC
program -> line
         | program line

line -> expression ';'  { printf("Result: %d\n", $1); }
      | ';'

expression -> expression '+' term   { $$ = $1 + $3; }
            | expression '-' term   { $$ = $1 - $3; }
            | term                  { $$ = $1; }

term -> term '*' factor   { $$ = $1 * $3; }
      | term '/' factor   { $$ = $1 / $3; }
      | factor             { $$ = $1; }

factor -> NUMBER            { $$ = $1; }
       | '(' expression ')' { $$ = $2; }
